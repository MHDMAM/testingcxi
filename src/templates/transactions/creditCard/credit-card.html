<ion-view view-title="{{'transactions.cc.title' | translate}}"><ion-content class="page-padding details-palan-wrapper"><div class="progress-container"><div class="progress-line"><div class="line"><div class="progress-50"></div></div><div ng-class="{current:steps===1, completed:steps!==1}" class="stage"><span ng-if="steps==1" class="step-number">1</span><span ng-if="steps!=1" class="step-number ion-checkmark"></span><div class="step-label"></div></div><div ng-class="{current:steps===2}" class="stage"><span class="step-number">2</span><div class="step-label"></div></div></div></div><div id="step2" ng-if="steps===1" class="ng-enter"><div class="center margin-bottom-xl"><h2 translate="transactions.cc.page2_title"></h2></div><div class="row"><div class="col-90 center-block"><h3 translate="transactions.cc.page2_subtitle2"></h3><div class="row"><div ng-repeat="item in data.policyInfo track by $index" class="clock col-50"><div class="item item-checkbox"><label class="checkbox"> <input type="checkbox" name="policy{{item.policyNo}}" ng-model="item" checklist-model="viewData.selectedPolicies" checklist-value="item" ng-change="updateSelections()" required="required"/></label><span class="pol-property">{{item.planName}}</span><span ng-if="item.lineOfBiz !=='LAFT'" class="pol-value">{{ 'transactions.medcard_replacement.policy_no'| translate}} {{item.policyNo}}</span><span ng-if="item.lineOfBiz ==='LAFT'" class="pol-value">{{ 'takaful.policy_no'| translate}} {{item.policyNo}}</span><span class="pol-value text-wrap">{{"transactions.medcard_replacement.insured_name" | translate}} {{item.insuredName}}   </span></div></div></div></div></div><div class="row"><div class="col"><button ng-click="updateCreditCard()" translate="transactions.cc.next" ng-disabled="viewData.selectedPolicies.length === 0" class="button button-major button-wide center-block"></button></div></div><div class="col-80 center-block margin-top-medium"><p translate="transactions.cc.lbl_notes" class="strong"> </p><p translate="transactions.cc.notes"></p></div></div><div id="step2" ng-if="steps===2" class="ng-enter"><div class="center margin-bottom-xl"><h2 translate="transactions.cc.page4_title"></h2></div><div class="full-bleed status-message margin-bottom-medium"><div class="status-text-block margin-bottom-medium"><span ng-if="viewData.success === true" class="status-success">{{"transactions.cc.submit_success" | translate}}</span><span ng-if="viewData.success === false" class="status-fail">{{"transactions.cc.submit_failed" | translate}}</span></div><span ng-if="viewData.success === true" translate="transactions.cc.confirmation_email_sent" class="pol-value">
</span></div><div class="row"><div class="col-90 center-block has-border-padding margin-bottom-medium"><h3 translate="transactions.cc.new_payment"></h3><div class="row"><div class="col-33"><span translate="transactions.cc.lbl_card_number" class="pol-value"></span><span class="pol-property">{{data.creditCardInfo.cardNo}}</span></div><div class="col-33"><span translate="transactions.cc.lbl_card_name" class="pol-value"></span><span class="pol-property">{{data.creditCardInfo.insuredName}}</span></div></div></div></div><div class="row"><div class="col-90 center-block"><h3 translate="transactions.cc.apply_following"></h3><ion-slide-box class="slider-card"><ion-slide ng-repeat="group in viewData.selectedPolicies2"><div class="slide-container"><div class="row"> <ul class="bullet-list"><li ng-repeat="item in group"> <span class="font-bold">{{item.planName}}, &nbsp;</span><span>{{item.policyNo}}, &nbsp; {{item.insuredName}}</span></li></ul></div></div></ion-slide></ion-slide-box></div></div><div class="center"><button ng-click="close()" translate="transactions.cc.back_to_dashboard" class="button button-major button-wide margin-top-large"></button></div></div></ion-content></ion-view>